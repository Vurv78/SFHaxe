# SFHaxe
Proof of concept [Haxe](https://haxe.org) Library for the lua target that adds [StarfallEx](https://github.com/thegrb93/StarfallEx) bindings.  
The bindings are autogenerated by a Haxe script made using SFHaxe, see [src/Generator.hx](https://github.com/Vurv78/SFHaxe/blob/main/src/Generator.hx).  
If you want Haxe bindings for GLua to make addons instead of Starfall scripts, check out [gmodhaxe](https://github.com/ponobodod/gmodhaxe).

## What is haxe?
See [what is haxe?](https://haxe.org/manual/introduction-what-is-haxe.html), a [code sample](https://try.haxe.org/embed/44ddE#code1) and [the power of haxe](#The-Power-of-Haxe)

## Features:
* Bindings for every Library and Type in StarfallEx.
* Bindings are generated automatically, so it can be updated very easily.
* Autogenerated Haxe field docs, so you can see what a function does inside your editor instead of going into the SF Helper.
* Proper generated Haxe operator overloads for SF metamethods

## Todos:
* Add ENUM generation (Kind of want to wait for SF to have a separate ENUM tab first.)
* Autogenerate more than "Any" and "Void" for params and return types. (We need Starfall's docs to be consistent and typed.)
* Generate documentation for each parameter and return type in the autogenerated haxe doc comments. ([See how gmodhaxe does it.](https://github.com/ponobodod/gmodhaxe/blob/4ca0f77bca71cc7eb213f98d8a4d37ef75e8ffe7/src/gmod/libs/CoroutineLib.hx#L17))

## Usage:
Look at the examples/Basic Full directory for a full example.  
First, download sfhaxe through haxelib by putting this in your command line.  
```hxml
haxelib install sfhaxe
```

Make a haxe project, and in your ``build.hxml`` file put this:  
```hxml
# Optional, but I recommend this to make your project smaller. (Deletes any unused code from the final compiled result)
-dce full

# Link to sfhaxe with the -lib command.
--library sfhaxe

# Either you can define a single one of these, both of them, or SHARED depending on what you want the chip to be targeted for.
--define SERVER
--define CLIENT

# Set the haxe path to the current directory of the hxml + /src/
-p src

# Tell the compiler to generate lua code at this directory.
--lua bin/outscript.lua

# Set the main class to compile from. In this case, you have a file called Main.hx in /src/ that creates class Main.
-main Main
```

## What would you use this for?
* If you wanted to have typed, neater code with all of the features that Haxe brings. See [The Power of Haxe](#The-Power-of-Haxe)
* If you don't want your source code to be stolen, this works as well since the source is transpiled into unrecognizable lua.
* If you wanted to use all of Haxe's public libraries (see lib.haxe.org), which a good portion should be compatible with SFHaxe.

## The Power of Haxe
* Macros
* [Map Comprehension](https://haxe.org/manual/lf-map-comprehension.html)
* [Conditional Compilation](https://haxe.org/manual/lf-condition-compilation.html)
* [Object Oriented Classes](https://haxe.org/manual/types-class-instance.html)
* [String Interpolation](https://haxe.org/manual/lf-string-interpolation.html)
* [Abstract Types](https://haxe.org/manual/types-abstract.html)
* [Much more](https://haxe.org/documentation/introduction/language-features.html)

## Dependencies
* At least Haxe 4.2.0, we're gonna take advantage of module-level fields and Rest args. (Might be optional, but I'm not gonna support any version lower than that.)
