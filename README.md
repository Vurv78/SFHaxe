# SFHaxe [![Haxelib](https://badgen.net/haxelib/v/sfhaxe?color=red)](https://lib.haxe.org/p/sfhaxe) [![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT) ![Downloads](https://badgen.net/haxelib/d/sfhaxe?color=green) [![github/Vurv78](https://discordapp.com/api/guilds/824727565948157963/widget.png)](https://discord.gg/epJFC6cNsw)


[Haxe](https://haxe.org) Library that adds [StarfallEx](https://github.com/thegrb93/StarfallEx) bindings that are autogenerated in the [generator](https://github.com/Vurv78/SFHaxe/tree/generator) branch.  

Write Starfall scripts in the same typed, null safe and powerful language that many popular [programs](https://haxe.org/use-cases/desktop) & [games](https://haxe.org/use-cases/games) like [*Friday Night Funkin'*](https://github.com/ninjamuffin99/Funkin) are written in.

<details>
  <summary> Example snippet </summary>
  <!-- Haven't actually tested this lol -->

  ![image](https://user-images.githubusercontent.com/56230599/118430103-28b9ba00-b688-11eb-9a4d-e851833ab50c.png)
</details>

_If you want Haxe bindings for GLua to make addons instead of Starfall scripts, check out [gmodhaxe](https://github.com/ponobodod/gmodhaxe). (Not made by me so can't confirm how good it is)_

## What is haxe?
See [what is haxe?](https://haxe.org/manual/introduction-what-is-haxe.html), a [code sample](https://try.haxe.org/embed/44ddE#code1) and [the power of haxe](#The-Power-of-Haxe)

## Features:
* Bindings for every Library and Type in StarfallEx.
* Bindings are generated automatically, so it can be updated very easily.
* Autogenerated Haxe field docs, so you can see what a function does inside your editor instead of going into the SF Helper.
* Proper generated Haxe operator overloads for SF metamethods

## Todos:
* Add ENUM generation (Kind of want to wait for SF to have a separate ENUM tab first.)
* Autogenerate multi-types. (Currently just do Dynamic, instead of Either<...>)
* Generate documentation for each parameter and return type in the autogenerated haxe doc comments. ([See how gmodhaxe does it.](https://github.com/ponobodod/gmodhaxe/blob/4ca0f77bca71cc7eb213f98d8a4d37ef75e8ffe7/src/gmod/libs/CoroutineLib.hx#L17))

## Usage:
Look at the examples/Basic Full directory for a full example.  
First, download sfhaxe through haxelib by putting this in your command line.  
```hxml
haxelib install sfhaxe
```

Make a haxe project, and in your ``build.hxml`` file put this:  
```hxml
# Optional, but I recommend this to make your project smaller. (Deletes any unused code from the final compiled result)
-dce full

# Link to sfhaxe with the -lib command.
--library sfhaxe

# Either you can define a single one of these, both of them, or SHARED depending on what you want the chip to be targeted for.
--define SERVER
--define CLIENT

# Set the haxe path to the current directory of the hxml + /src/
-p src

# Tell the compiler to generate lua code at this directory.
--lua bin/outscript.lua

# Set the main class to compile from. In this case, you have a file called Main.hx in /src/ that creates class Main.
-main Main
```

## What would you use this for?
* If you wanted to have typed, neater code with all of the features that Haxe brings. See [The Power of Haxe](#The-Power-of-Haxe)
* If you don't want your source code to be stolen, this works as well since the source is transpiled into unrecognizable lua.
* If you wanted to use all of Haxe's public libraries (see lib.haxe.org), which a good portion should be compatible with SFHaxe.

## The Power of Haxe
* [Macros](https://haxe.org/manual/macro-arguments.html)
* [Regex / Pattern Matching](https://lib.haxe.org/p/hre) <!-- Putting a link to hre instead of Haxe's native Regex because it requires a module for lua. -->
* [Null Safety](https://haxe.org/manual/cr-null-safety.html)
* [Map Comprehension](https://haxe.org/manual/lf-map-comprehension.html)
* [Conditional Compilation](https://haxe.org/manual/lf-condition-compilation.html)
* [Object Oriented Classes](https://haxe.org/manual/types-class-instance.html)
* [String Interpolation](https://haxe.org/manual/lf-string-interpolation.html)
* [Abstract Types](https://haxe.org/manual/types-abstract.html)
* [Runtime Reflection](https://haxe.org/manual/std-reflection.html)
* [Powerful IDE Support](https://marketplace.visualstudio.com/items?itemName=nadako.vshaxe) <!-- There is also IntelliJ, Vim, Atom and Sublime support. (Probably more too) -->
* [Much more](https://haxe.org/documentation/introduction/language-features.html)

## Dependencies
* At least Haxe 4.2.0, we're gonna take advantage of module-level fields and Rest args. (Might be optional, but I'm not gonna support any version lower than that.)

_Note that 'we' aren't sponsored or anything by Haxe, the language is just this cool._
